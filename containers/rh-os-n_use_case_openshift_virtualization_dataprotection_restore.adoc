---
sidebar: sidebar 
permalink: containers/rh-os-n_use_case_openshift_virtualization_dataprotection_restore.html 
keywords: OpenShift, OCP, Astra Trident, NetApp ONTAP, Red Hat OpenShift, OpenShift Virtualization, CNV, Container Native Virtualization, Red Hat OpenShift Virtualization, OADP operator, Openshift Data Protection Application operator, velero 
summary: Red hat OpenShift Virtualisierung mit NetApp ONTAP 
---
= Stellen Sie eine VM aus einem Backup wieder her
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/




== Voraussetzungen

Um aus einem Backup wiederherzustellen, nehmen wir an, dass der Namespace, in dem die virtuelle Maschine existierte, versehentlich gelöscht wurde.



== Schritte zum Durchführen einer Wiederherstellung

Um das Backup wiederherzustellen, das wir gerade erstellt haben, müssen wir eine Restore Custom Resource (CR) erstellen. Geben Sie ihm einen Namen, geben Sie den Namen des Backups an, von dem aus wir die Wiederherstellungs-PVs wiederherstellen möchten, und setzen Sie sie auf „True“.
Weitere Parameter können wie in dargestellt eingestellt werden link:https://docs.openshift.com/container-platform/4.14/backup_and_restore/application_backup_and_restore/backing_up_and_restoring/restoring-applications.html["Dokumentation"]. Klicken Sie auf die Schaltfläche Erstellen.

image::redhat_openshift_OADP_restore_image1.jpg[CR wiederherstellen erstellen]

....
apiVersion: velero.io/v1
kind: Restore
metadata:
  name: restore1
  namespace: openshift-adp
spec:
  backupName: backup1
  restorePVs: true
....
Wenn die Phase abgeschlossen angezeigt wird, sehen Sie, dass die virtuellen Maschinen wiederhergestellt wurden
In den Status, in dem der Snapshot erstellt wurde. (Wenn die Sicherung erstellt wurde, als die VM lief, wird die Wiederherstellung der VM aus dem Backup die wiederhergestellte VM starten und ihren Betrieb wieder herstellen)

image::redhat_openshift_OADP_restore_image2.jpg[CR wiederherstellen wird erstellt]

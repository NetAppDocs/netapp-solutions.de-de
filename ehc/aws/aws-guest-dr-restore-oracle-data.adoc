---
sidebar: sidebar 
permalink: ehc/aws/aws-guest-dr-restore-oracle-data.html 
keywords: Oracle application data, VMware Cloud Services, aws, mount NFS volumes, Oracle Server 
summary: Das folgende Verfahren enthält Anweisungen zur Wiederherstellung von Oracle Applikationsdaten in VMware Cloud Services in AWS bei einem Ausfall, der den Betrieb des lokalen Standorts erübrigt. 
---
= Stellen Sie Oracle Applikationsdaten wieder her
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../../media/


link:aws-guest-dr-restore-sql-data.html["Früher: Stellen Sie SQL Server Applikationsdaten wieder her."]

Das folgende Verfahren enthält Anweisungen zur Wiederherstellung von Oracle Applikationsdaten in VMware Cloud Services in AWS bei einem Ausfall, der den Betrieb des lokalen Standorts erübrigt.

Führen Sie die folgenden Voraussetzungen aus, um mit den Wiederherstellungsschritten fortzufahren:

. Die Oracle Linux-Server-VM wurde mithilfe von Veeam Full Restore in VMware Cloud SDDC wiederhergestellt.
. Es wurde ein sekundärer SnapCenter-Server erstellt, und die SnapCenter-Datenbank und -Konfigurationsdateien wurden anhand der in diesem Abschnitt beschriebenen Schritte wiederhergestellt link:aws-guest-dr-snapcenter-db-backup.html#snapcenter-backup-and-restore-process-summary["Zusammenfassung des SnapCenter-Backup- und Restore-Prozesses"]


Folgende Zusammenfassung des Recovery-Prozesses für Oracle Applikationsdaten:

. Konfigurieren Sie die VM in Vorbereitung für den Wiederherstellungsprozess.
. Richten Sie FSX für iSCSI-Zugriff ein.
. Richten Sie die Linux VM für NFS-Zugriff ein.
. Verbinden Sie die SQL Server-Datenbank, und schalten Sie sie online.
. Bestätigen Sie die Kommunikation zwischen SnapCenter und dem SnapCenter SQL Server Plug-in.


Eine Zusammenfassung des Oracle Server Failover-Prozesses finden Sie wie folgt:

. Stellen Sie die Oracle VM mithilfe von Veeam in der VMware Cloud wieder her.
. Bereinigen Sie die VM in Vorbereitung für den Wiederherstellungsprozess:
+
.. Ändern Sie die IP-Adressen nach Bedarf.
.. Fügen Sie das System DNS mit einem FQDN hinzu, der mit dem Original identisch ist.


. FSX für NFS-Zugriff einrichten
. Mounten Sie die NFS-Volumes auf dem Oracle Linux Server.




== FSX für Oracle Restore konfigurieren – Unterbrechung der SnapMirror Beziehung

Damit die sekundären Storage-Volumes, die auf der FSxN-Instanz gehostet werden, auf die Oracle Server zugreifen können, müssen Sie die bestehende SnapMirror-Beziehung unterbrechen.

. Nach der Anmeldung bei der FSX-CLI führen Sie den folgenden Befehl aus, um die Volumes anzuzeigen, die nach dem richtigen Namen gefiltert wurden.
+
....
FSx-Dest::> volume show -volume VolumeName*
....
+
image:dr-vmc-aws-image77.png["Fehler: Fehlendes Grafikbild"]

. Führen Sie den folgenden Befehl aus, um die bestehenden SnapMirror Beziehungen zu unterbrechen.
+
....
FSx-Dest::> snapmirror break -destination-path DestSVM:DestVolName
....
+
image:dr-vmc-aws-image78.png["Fehler: Fehlendes Grafikbild"]

. Aktualisieren Sie den Verbindungspfad im Amazon FSX Web-Client:
+
image:dr-vmc-aws-image79.png["Fehler: Fehlendes Grafikbild"]

. Fügen Sie den Namen des Verbindungspfads hinzu, und klicken Sie auf Aktualisieren. Geben Sie diesen Verbindungspfad an, wenn Sie das NFS Volume vom Oracle Server mounten.
+
image:dr-vmc-aws-image80.png["Fehler: Fehlendes Grafikbild"]





== Mounten Sie NFS Volumes auf Oracle Server

In Cloud Manager erhalten Sie den Mount-Befehl mit der richtigen NFS-LIF-IP-Adresse zum Mounten der NFS-Volumes, die die Oracle-Datenbankdateien und -Protokolle enthalten.

. Rufen Sie in Cloud Manager die Liste der Volumes für Ihr FSX-Cluster auf.
+
image:dr-vmc-aws-image81.png["Fehler: Fehlendes Grafikbild"]

. Wählen Sie im Aktivitätsmenü Mount Command aus, um den Mount-Befehl anzuzeigen und zu kopieren, der auf unserem Oracle Linux-Server verwendet werden soll.
+
image:dr-vmc-aws-image82.png["Fehler: Fehlendes Grafikbild"]

+
image:dr-vmc-aws-image83.png["Fehler: Fehlendes Grafikbild"]

. Mounten Sie das NFS-Dateisystem auf dem Oracle Linux Server. Die Verzeichnisse zum Mounten des NFS-Shares sind bereits auf dem Oracle Linux-Host vorhanden.
. Verwenden Sie auf dem Oracle Linux-Server den Mount-Befehl, um die NFS-Volumes zu mounten.
+
....
FSx-Dest::> mount -t oracle_server_ip:/junction-path
....
+
Wiederholen Sie diesen Schritt für jedes mit den Oracle Datenbanken verbundene Volume.

+

NOTE: Um den NFS-Mount beim Neustart persistent zu machen, bearbeiten Sie den `/etc/fstab` Datei zum Einschließen der Mount-Befehle.

. Starten Sie den Oracle-Server neu. Die Oracle Datenbanken sollten normal gestartet werden und zur Verwendung verfügbar sein.


link:aws-guest-dr-failback.html["Weiter: Failback."]
